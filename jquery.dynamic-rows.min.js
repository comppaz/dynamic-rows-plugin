!function(a){function g(b,c){this.$element=a(b),this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.rowTemplate=this.$element.html(),this.numRows=1,this.init()}var e="dynamicRows",f={buttonClassAdd:"btn btn-default",buttonClassRemove:"btn btn-danger",buttonContentAdd:"<span class='glyphicon glyphicon-plus'></span>",buttonContentRemove:"<span class='glyphicon glyphicon-remove'></span>",buttonContainerClass:"buttonContainer",minRows:1,maxRows:5};g.prototype.init=function(){a("."+this.options.buttonContainerClass).append(this.generateAddButton())},g.prototype.generateAddButton=function(){return a("<button type='button' class='"+this.options.buttonClassAdd+"'></button>").html(this.options.buttonContentAdd).on("click",this.callbackAddRow.bind(this))},g.prototype.generateDeleteButton=function(){return a("<button type='button' class='"+this.options.buttonClassRemove+"'></button>").html(this.options.buttonContentRemove).on("click",this.callbackRemoveRow.bind(this))},g.prototype.callbackAddRow=function(){if(this.numRows!==this.options.maxRows){var c=a(this.$element.children("div")[this.numRows-1]);newRow=a(this.rowTemplate).attr("data-row-num",this.numRows+1),c.children("."+this.options.buttonContainerClass).html(this.generateDeleteButton()),newRow.children("."+this.options.buttonContainerClass).append(this.generateAddButton()),this.$element.append(newRow),this.numRows++}},g.prototype.callbackRemoveRow=function(b){if(this.numRows!==this.options.minRows){var c=a(b.target).parents("div[data-row-num]");c.remove(),this.$element.children("div").last().children("."+this.options.buttonContainerClass).html(this.generateAddButton()),this.readjustRowNums()}},g.prototype.readjustRowNums=function(){var b=1;return this.$element.children("div[data-row-num]").each(function(c,d){a(d).attr("data-row-num",b),b++}),this.numRows=b-1,b},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}}(jQuery,window,document);